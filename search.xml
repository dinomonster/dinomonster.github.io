<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[Android读取json配置]]></title>
      <url>https://dinomonster.github.io/2016/08/09/Android%E8%AF%BB%E5%8F%96json%E9%85%8D%E7%BD%AE/</url>
      <content type="html"><![CDATA[<p>&#x5DE5;&#x4F5C;&#x7684;&#x65B0;&#x9700;&#x6C42;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x8FC7;&#x6EE4;&#xFF0C;&#x4F46;&#x662F;&#x8FC7;&#x6EE4;&#x7684;&#x5B57;&#x6BB5;&#x6CA1;&#x6709;&#x670D;&#x52A1;&#xFF0C;&#x53EA;&#x80FD;&#x50CF;&#x670D;&#x52A1;&#x7AEF;&#x4E00;&#x6837;&#x5199;&#x672C;&#x5730;&#x914D;&#x7F6E;&#x5316;&#x3002;&#x3002;&#x3002;orz<br>&#x628A;&#x914D;&#x7F6E;&#x5199;&#x6210;json&#x683C;&#x5F0F;&#x653E;&#x5728;assets&#x4E0B;&#x9762;&#x3002;</p>
<h3 id="1-&#x6784;&#x9020;json&#x653E;&#x5728;assets&#x4E0B;&#x9762;&#xFF0C;&#x5982;&#x56FE;"><a href="#1-&#x6784;&#x9020;json&#x653E;&#x5728;assets&#x4E0B;&#x9762;&#xFF0C;&#x5982;&#x56FE;" class="headerlink" title="1.&#x6784;&#x9020;json&#x653E;&#x5728;assets&#x4E0B;&#x9762;&#xFF0C;&#x5982;&#x56FE;"></a>1.&#x6784;&#x9020;json&#x653E;&#x5728;assets&#x4E0B;&#x9762;&#xFF0C;&#x5982;&#x56FE;</h3><p><img src="/2016/08/09/Android&#x8BFB;&#x53D6;json&#x914D;&#x7F6E;/filter.jpg" alt="filter"></p>
<h3 id="2-&#x5199;&#x4E00;&#x4E2A;util-&#x4EE3;&#x7801;&#x5982;&#x4E0B;"><a href="#2-&#x5199;&#x4E00;&#x4E2A;util-&#x4EE3;&#x7801;&#x5982;&#x4E0B;" class="headerlink" title="2.&#x5199;&#x4E00;&#x4E2A;util &#x4EE3;&#x7801;&#x5982;&#x4E0B;"></a>2.&#x5199;&#x4E00;&#x4E2A;util &#x4EE3;&#x7801;&#x5982;&#x4E0B;</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> android.content.Context;</div><div class="line"><span class="keyword">import</span> android.content.res.AssetManager;</div><div class="line"></div><div class="line"><span class="keyword">import</span> org.json.JSONArray;</div><div class="line"><span class="keyword">import</span> org.json.JSONException;</div><div class="line"><span class="keyword">import</span> org.json.JSONObject;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.BufferedReader;</div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"><span class="keyword">import</span> java.io.InputStreamReader;</div><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.HashMap;</div><div class="line"><span class="keyword">import</span> java.util.List;</div><div class="line"><span class="keyword">import</span> java.util.Map;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Created by Dino on 8/9 0009.</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppJsonFileReader</span> </span>{</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getJson</span><span class="params">(Context context, String fileName)</span> </span>{</div><div class="line"></div><div class="line">        StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</div><div class="line">        <span class="keyword">try</span> {</div><div class="line">            AssetManager assetManager = context.getAssets();</div><div class="line">            BufferedReader bf = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(</div><div class="line">                    assetManager.open(fileName)));</div><div class="line">            String line;</div><div class="line">            <span class="keyword">while</span> ((line = bf.readLine()) != <span class="keyword">null</span>) {</div><div class="line">                stringBuilder.append(line);</div><div class="line">            }</div><div class="line">        } <span class="keyword">catch</span> (IOException e) {</div><div class="line">            e.printStackTrace();</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> stringBuilder.toString();</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;Map&lt;String, String&gt;&gt; setListData(String str) {</div><div class="line">        List&lt;Map&lt;String, String&gt;&gt; data = <span class="keyword">new</span> ArrayList&lt;Map&lt;String, String&gt;&gt;();</div><div class="line">        <span class="keyword">try</span> {</div><div class="line"></div><div class="line">            JSONArray array = <span class="keyword">new</span> JSONArray(str);</div><div class="line">            <span class="keyword">int</span> len = array.length();</div><div class="line">            Map&lt;String, String&gt; map;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) {</div><div class="line">                JSONObject object = array.getJSONObject(i);</div><div class="line">                map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</div><div class="line">                map.put(<span class="string">&quot;Code&quot;</span>, object.getString(<span class="string">&quot;Code&quot;</span>));</div><div class="line">                map.put(<span class="string">&quot;Name&quot;</span>, object.getString(<span class="string">&quot;Name&quot;</span>));</div><div class="line">                data.add(map);</div><div class="line">            }</div><div class="line"></div><div class="line">        } <span class="keyword">catch</span> (JSONException e) {</div><div class="line">            e.printStackTrace();</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> data;</div><div class="line"></div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>
<h3 id="3-&#x5728;activity&#x91CC;&#x9762;&#x8C03;&#x7528;&#x4EE3;&#x7801;&#xFF1A;"><a href="#3-&#x5728;activity&#x91CC;&#x9762;&#x8C03;&#x7528;&#x4EE3;&#x7801;&#xFF1A;" class="headerlink" title="3.&#x5728;activity&#x91CC;&#x9762;&#x8C03;&#x7528;&#x4EE3;&#x7801;&#xFF1A;"></a>3.&#x5728;activity&#x91CC;&#x9762;&#x8C03;&#x7528;&#x4EE3;&#x7801;&#xFF1A;</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> String primary = <span class="string">&quot;www/js/primary_class_phase.json&quot;</span>;</div><div class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> String junior = <span class="string">&quot;www/js/junior_class_phase.json&quot;</span>;</div><div class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> String senior = <span class="string">&quot;www/js/senior_class_phase.json&quot;</span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() {</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</div><div class="line">                String jsonStr=<span class="string">&quot;&quot;</span>;</div><div class="line">                <span class="keyword">if</span>(<span class="string">&quot;2&quot;</span>.equals(phase)){<span class="comment">//&#x5C0F;&#x5B66;</span></div><div class="line">                    jsonStr = AppJsonFileReader.getJson(getActivity(),primary);</div><div class="line">                }<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;3&quot;</span>.equals(phase)){<span class="comment">//&#x521D;&#x4E2D;</span></div><div class="line">                    jsonStr = AppJsonFileReader.getJson(getActivity(),junior);</div><div class="line">                }<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;4&quot;</span>.equals(phase)){<span class="comment">//&#x9AD8;&#x4E2D;</span></div><div class="line">                    jsonStr = AppJsonFileReader.getJson(getActivity(),senior);</div><div class="line">                }</div><div class="line"></div><div class="line"></div><div class="line">                List&lt;Map&lt;String, String&gt;&gt; data = AppJsonFileReader.setListData(jsonStr);</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;data.size();i++){</div><div class="line">                    mCources.add(data.get(i).get(<span class="string">&quot;Name&quot;</span>));</div><div class="line">                    mCourcesId.add(data.get(i).get(<span class="string">&quot;Code&quot;</span>));</div><div class="line">                }</div><div class="line">                list.clear();</div><div class="line">                list.addAll(mCources);</div><div class="line">                getActivity().runOnUiThread(<span class="keyword">new</span> Runnable() {</div><div class="line">                    <span class="meta">@Override</span></div><div class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</div><div class="line">                        mAdapter = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_list_item_1, list);</div><div class="line">                        mListView.setAdapter(mAdapter);</div><div class="line">                    }</div><div class="line">                });</div><div class="line">            }</div><div class="line">        }).start();</div></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Android6.0权限机制变更]]></title>
      <url>https://dinomonster.github.io/2016/08/09/2016-8-9/</url>
      <content type="html"><![CDATA[<h3 id="Android6-0&#x4EE5;&#x524D;"><a href="#Android6-0&#x4EE5;&#x524D;" class="headerlink" title="Android6.0&#x4EE5;&#x524D;"></a>Android6.0&#x4EE5;&#x524D;</h3><p>&#x6240;&#x6709;&#x6743;&#x9650;&#x90FD;&#x5728;&#x5B89;&#x88C5;&#x5E94;&#x7528;&#x65F6;&#x663E;&#x793A;&#x7ED9;&#x7528;&#x6237;&#xFF0C;&#x7528;&#x6237;&#x9009;&#x62E9;&#x5B89;&#x88C5;&#x5219;&#x8868;&#x793A;&#x63A5;&#x53D7;&#x8FD9;&#x4E9B;&#x6743;&#x9650;&#xFF0C;&#x4E4B;&#x540E;&#x65E0;&#x6CD5;&#x64A4;&#x9500;&#x6388;&#x6743;&#x3002;</p>
<h3 id="Android6-0&#x5F00;&#x59CB;"><a href="#Android6-0&#x5F00;&#x59CB;" class="headerlink" title="Android6.0&#x5F00;&#x59CB;"></a>Android6.0&#x5F00;&#x59CB;</h3><p>&#x5728;&#x5B89;&#x88C5;&#x5E94;&#x7528;&#x65F6;&#xFF0C;&#x90E8;&#x5206;&#x5371;&#x9669;&#x6743;&#x9650;&#x4F1A;&#x5C55;&#x793A;&#x7ED9;&#x7528;&#x6237;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x52FE;&#x9009;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x9009;&#x62E9;&#x6388;&#x6743;&#xFF0C;&#x5E76;&#x53EF;&#x4EE5;&#x5728;&#x5B89;&#x88C5;&#x4E4B;&#x540E;&#x8FDB;&#x5165;&#x8BBE;&#x7F6E;&#x64A4;&#x9500;&#x6388;&#x6743;&#x3002;<br>Dangerous permissions:</p>
<ul>
<li>CALENDAR<ul>
<li>READ_CALENDAR</li>
<li>WRITE_CALENDAR</li>
</ul>
</li>
<li>CAMERA<ul>
<li>READ_CALENDAR</li>
<li>WRITE_CALENDAR</li>
</ul>
</li>
<li>CONTACTS<ul>
<li>READ_CONTACTS</li>
<li>WRITE_CONTACTS</li>
<li>GET_ACCOUNTS</li>
</ul>
</li>
<li>LOCATION<ul>
<li>ACCESS_FINE_LOCATION</li>
<li>ACCESS_COARSE_LOCATION</li>
</ul>
</li>
<li>MICROPHONE<ul>
<li>RECORD_AUDIO</li>
</ul>
</li>
<li>PHONE<ul>
<li>READ_PHONE_STATE</li>
<li>CALL_PHONE</li>
<li>READ_CALL_LOG</li>
<li>WRITE_CALL_LOG</li>
<li>ADD_VOICEMAIL</li>
<li>USE_SIP</li>
<li>PROCESS_OUTGOING_CALLS</li>
</ul>
</li>
<li>SENSORS<ul>
<li>BODY_SENSORS</li>
</ul>
</li>
<li>SMS<ul>
<li>SEND_SMS</li>
<li>RECEIVE_SMS</li>
<li>READ_SMS</li>
<li>RECEIVE_WAP_PUSH</li>
<li>RECEIVE_MMS</li>
</ul>
</li>
<li>STORAGE<ul>
<li>READ_EXTERNAL_STORAGE</li>
<li>WRITE_EXTERNAL_STORAGE</li>
</ul>
</li>
</ul>
<p>&#x6743;&#x9650;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;<a href="https://developer.android.com/reference/android/Manifest.permission.html" target="_blank" rel="external">&#x67E5;&#x770B;</a></p>
<p>&#x60F3;&#x8981;&#x67E5;&#x770B;&#x6240;&#x6709;dangerous&#x7684;&#x6743;&#x9650;, &#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x547D;&#x4EE4;:<br><code>adb shell pm list permissions -g -d</code></p>
<p>Guides&#x91CC;&#x9762;&#x7684;&#x539F;&#x6587;:</p>
<ul>
<li>If the device is running Android 6.0 (API level 23) or higher, and the app&#x2019;s targetSdkVersion is 23 or higher, the app requests permissions from the user at run-time. The user can revoke the permissions at any time, so the app needs to check whether it has the permissions every time it runs. For more information about requesting permissions in your app, see the Working with System Permissions training guide.</li>
<li>If the device is running Android 5.1 (API level 22) or lower, or the app&#x2019;s targetSdkVersion is 22 or lower, the system asks the user to grant the permissions when the user installs the app. If you add a new permission to an updated version of the app, the system asks the user to grant that permission when the user updates the app. Once the user installs the app, the only way they can revoke the permission is by uninstalling the app.</li>
</ul>
<p>&#x53EA;&#x6709;&#x6EE1;&#x8DB3;targetSdkVersion&#x548C;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x8BBE;&#x5907;&#x7684;&#x7248;&#x672C;&#x90FD;&#x5728;23&#x53CA;&#x4EE5;&#x4E0A;&#x7684;&#x65F6;&#x5019;,&#x624D;&#x4F1A;&#x91C7;&#x7528;&#x65B0;&#x7684;&#x52A8;&#x6001;&#x6743;&#x9650;&#x673A;&#x5236;. &#x5176;&#x4ED6;&#x60C5;&#x51B5;, &#x8DDF;&#x4E4B;&#x524D;&#x4E00;&#x6837;, &#x5728;&#x5B89;&#x88C5;&#x548C;&#x5347;&#x7EA7;&#x5E94;&#x7528;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x6388;&#x6743;&#x4E86;&#x6240;&#x6709;&#x7684;&#x6743;&#x9650;.<br>&#x5982;&#x679C;targetSdkVersion&#x5C0F;&#x4E8E;23,&#x5373;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;Android 6.0&#x53D1;&#x5E03;&#x4E4B;&#x524D;&#x5F00;&#x53D1;&#x7684;&#x5E94;&#x7528;, &#x8FD8;&#x6CA1;&#x6709;&#x517C;&#x5BB9;6.0.<br>&#x8FD9;&#x79CD;&#x5E94;&#x7528;&#x5373;&#x4FBF;&#x662F;&#x88AB;&#x88C5;&#x5728;Android 6.0&#x7684;&#x673A;&#x5668;&#x4E0A;,&#x4E5F;&#x662F;&#x91C7;&#x7528;&#x539F;&#x6765;&#x7684;&#x5B89;&#x88C5;&#x5373;&#x6388;&#x4E88;&#x6743;&#x9650;&#x903B;&#x8F91;, &#x6240;&#x6709;&#x6743;&#x9650;&#x5728;&#x5E94;&#x7528;&#x5B89;&#x88C5;&#x65F6;&#x5168;&#x90E8;&#x88AB;&#x6388;&#x6743;.<br>&#x5728;Android 6.0&#x7684;&#x8BBE;&#x5907;&#x4E0A;&#x5B89;&#x88C5;targetSdkVersion&#x5C0F;&#x4E8E;23&#x7684;&#x5E94;&#x7528;&#x4E4B;&#x540E;, &#x53EF;&#x4EE5;&#x5728;&#x5E94;&#x7528;&#x7684;&#x8BBE;&#x7F6E;&#x4E2D;&#x67E5;&#x770B;,&#x53D1;&#x73B0;&#x6240;&#x6709;&#x7684;dangerous&#x6743;&#x9650;&#x72B6;&#x6001;&#x90FD;&#x662F;&#x6253;&#x5F00;.<br>&#x4F46;&#x662F;&#x7528;&#x6237;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x5728;&#x7CFB;&#x7EDF;&#x8BBE;&#x7F6E;&#x4E2D;&#x7981;&#x7528;&#x6743;&#x9650;</p>
<p>&#x56E0;&#x4E3A;&#x6743;&#x9650;&#x52A8;&#x6001;&#x68C0;&#x67E5;&#x76F8;&#x5173;&#x7684;API&#x662F;Android 6.0&#x624D;&#x52A0;&#x5165;&#x7684;, &#x6240;&#x4EE5;minSdkVersion&#x4E0D;&#x662F;23&#x65F6;,&#x63A8;&#x8350;&#x4F7F;&#x7528;SupportLibrary&#x6765;&#x5B9E;&#x73B0;,&#x597D;&#x5904;&#x662F;: &#x7A0B;&#x5E8F;&#x91CC;&#x4E0D;&#x5FC5;&#x52A0;if&#x6765;&#x5224;&#x65AD;&#x5F53;&#x524D;&#x8BBE;&#x5907;&#x7684;&#x7248;&#x672C;.support&#x7684;&#x5305;&#x5FC5;&#x987B;&#x662F;23&#x4EE5;&#x4E0A;&#x624D;&#x53EF;&#x4EE5;.</p>
<p>&#x4E0B;&#x9762;&#x6765;&#x8BB2;&#x8BB2;&#x4EE3;&#x7801;&#x4E2D;&#x5982;&#x4F55;&#x9002;&#x914D;&#x8FD9;&#x79CD;&#x65B0;&#x7684;&#x6743;&#x9650;&#x673A;&#x5236;&#xFF1A;</p>
<h3 id="1-&#x68C0;&#x67E5;&#x6743;&#x9650;&#x72B6;&#x6001;"><a href="#1-&#x68C0;&#x67E5;&#x6743;&#x9650;&#x72B6;&#x6001;" class="headerlink" title="1.&#x68C0;&#x67E5;&#x6743;&#x9650;&#x72B6;&#x6001;"></a>1.&#x68C0;&#x67E5;&#x6743;&#x9650;&#x72B6;&#x6001;</h3><p>&#x5982;&#x679C;&#x5728;&#x6267;&#x884C;&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x4E00;&#x4E2A;dangerous permission&#xFF0C;&#x90A3;&#x4E48;&#x6BCF;&#x6B21;&#x6267;&#x884C;&#x64CD;&#x4F5C;&#x90FD;&#x5FC5;&#x987B;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x6709;&#x8FD9;&#x4E2A;&#x6743;&#x9650;&#xFF0C;&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#x66F4;&#x6539;&#x6388;&#x6743;&#xFF0C;&#x6240;&#x4EE5;&#x5FC5;&#x987B;&#x6BCF;&#x6B21;&#x90FD;&#x8FDB;&#x884C;&#x68C0;&#x67E5;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x9009;&#x62E9;&#x7167;&#x7247;&#x5C31;&#x9700;&#x8981;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(PackageManager.PERMISSION_GRANTED == ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.READ_EXTERNAL_STORAGE)){</div><div class="line">goImageSelect();</div><div class="line">}<span class="keyword">else</span>{</div><div class="line"><span class="comment">//do not have permission</span></div><div class="line">}</div></pre></td></tr></table></figure></p>
<h3 id="2-&#x52A8;&#x6001;&#x8BF7;&#x6C42;&#x6743;&#x9650;"><a href="#2-&#x52A8;&#x6001;&#x8BF7;&#x6C42;&#x6743;&#x9650;" class="headerlink" title="2.&#x52A8;&#x6001;&#x8BF7;&#x6C42;&#x6743;&#x9650;"></a>2.&#x52A8;&#x6001;&#x8BF7;&#x6C42;&#x6743;&#x9650;</h3><p>&#x5982;&#x679C;&#x4E0A;&#x9762;&#x7684;&#x5224;&#x65AD;&#x6CA1;&#x6709;&#x6743;&#x9650;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x663E;&#x5F0F;&#x7684;&#x8BF7;&#x6C42;&#x8FD9;&#x4E2A;&#x6743;&#x9650;&#xFF0C;Android&#x63D0;&#x4F9B;&#x4E86;&#x65B9;&#x6CD5;&#x6765;&#x52A8;&#x6001;&#x8BF7;&#x6C42;&#x6743;&#x9650;&#xFF0C;&#x8C03;&#x7528;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x4F1A;&#x5F39;&#x51FA;&#x6807;&#x51C6;&#x7684;dialog&#xFF0C;&#x76EE;&#x524D;&#x8FD9;&#x4E2A;dialog&#x4E0D;&#x80FD;&#x88AB;&#x5B9A;&#x5236;&#x3002;</p>
<h4 id="2-1&#x6709;&#x65F6;&#x5019;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x89E3;&#x91CA;&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x8FD9;&#x4E2A;&#x6743;&#x9650;"><a href="#2-1&#x6709;&#x65F6;&#x5019;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x89E3;&#x91CA;&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x8FD9;&#x4E2A;&#x6743;&#x9650;" class="headerlink" title="2.1&#x6709;&#x65F6;&#x5019;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x89E3;&#x91CA;&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x8FD9;&#x4E2A;&#x6743;&#x9650;"></a>2.1&#x6709;&#x65F6;&#x5019;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x89E3;&#x91CA;&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x8FD9;&#x4E2A;&#x6743;&#x9650;</h4><p>&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x662F;,&#x5F53;&#x7528;&#x6237;&#x62D2;&#x7EDD;&#x8FC7;&#x8FD9;&#x4E2A;&#x6743;&#x9650;,&#x4F46;&#x662F;&#x53C8;&#x7528;&#x5230;&#x4E86;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;, &#x90A3;&#x4E48;&#x5F88;&#x53EF;&#x80FD;&#x7528;&#x6237;&#x4E0D;&#x662F;&#x5F88;&#x660E;&#x767D;&#x4E3A;&#x4EC0;&#x4E48;app&#x9700;&#x8981;&#x8FD9;&#x4E2A;&#x6743;&#x9650;, &#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x5148;&#x5411;&#x7528;&#x6237;&#x89E3;&#x91CA;&#x4E00;&#x4E0B;.<br>&#x4E3A;&#x4E86;&#x53D1;&#x73B0;&#x8FD9;&#x79CD;&#x7528;&#x6237;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x89E3;&#x91CA;&#x7684;&#x60C5;&#x5F62;, Android&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5DE5;&#x5177;&#x7C7B;&#x65B9;&#x6CD5;: shouldShowRequestPermissionRationale()<br>&#x5982;&#x679C;app&#x4E4B;&#x524D;&#x8BF7;&#x6C42;&#x8FC7;&#x8BE5;&#x6743;&#x9650;,&#x88AB;&#x7528;&#x6237;&#x62D2;&#x7EDD;, &#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5C31;&#x4F1A;&#x8FD4;&#x56DE;true.<br>&#x5982;&#x679C;&#x7528;&#x6237;&#x4E4B;&#x524D;&#x62D2;&#x7EDD;&#x6743;&#x9650;&#x7684;&#x65F6;&#x5019;&#x52FE;&#x9009;&#x4E86;&#x5BF9;&#x8BDD;&#x6846;&#x4E2D;&#x201D;Don&#x2019;t ask again&#x201D;&#x7684;&#x9009;&#x9879;,&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4F1A;&#x8FD4;&#x56DE;false.<br>&#x5982;&#x679C;&#x8BBE;&#x5907;&#x7B56;&#x7565;&#x7981;&#x6B62;&#x5E94;&#x7528;&#x62E5;&#x6709;&#x8FD9;&#x6761;&#x6743;&#x9650;, &#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4E5F;&#x8FD4;&#x56DE;false.<br>&#x5177;&#x4F53;&#x89E3;&#x91CA;&#x539F;&#x56E0;&#x7684;&#x8FD9;&#x4E2A;dialog&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;, &#x7CFB;&#x7EDF;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//do not have permission</span></div><div class="line"><span class="comment">// Should we show an explanation?</span></div><div class="line"><span class="keyword">if</span> (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.<span class="keyword">this</span>,</div><div class="line">            Manifest.permission.READ_CONTACTS)) {</div><div class="line"></div><div class="line">        <span class="comment">// Show an explanation to the user *asynchronously* -- don&apos;t block</span></div><div class="line">        <span class="comment">// this thread waiting for the user&apos;s response! After the user</span></div><div class="line">        <span class="comment">// sees the explanation, try again to request the permission.</span></div><div class="line">        Log.i(DEBUG_TAG, <span class="string">&quot;we should explain why we need this permission!&quot;</span>);</div><div class="line">    } <span class="keyword">else</span> {</div><div class="line"></div><div class="line">        <span class="comment">// No explanation needed, we can request the permission.</span></div><div class="line">   }</div></pre></td></tr></table></figure>
<h4 id="2-2&#x8BF7;&#x6C42;&#x6743;&#x9650;"><a href="#2-2&#x8BF7;&#x6C42;&#x6743;&#x9650;" class="headerlink" title="2.2&#x8BF7;&#x6C42;&#x6743;&#x9650;"></a>2.2&#x8BF7;&#x6C42;&#x6743;&#x9650;</h4><p>&#x8BF7;&#x6C42;&#x6743;&#x9650;&#x7684;&#x65B9;&#x6CD5;&#x5206;&#x4E24;&#x79CD;<br>&#x4E00;&#x79CD;&#x662F;&#x5728;Activity&#x91CC;&#x9762;&#x8BF7;&#x6C42;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x65B9;&#x6CD5;<br>requestPermissions(final @NonNull Activity activity,<br>            final @NonNull String[] permissions, final int requestCode)<br>&#x4F20;&#x5165;&#x4E00;&#x4E2A;Activity, &#x4E00;&#x4E2A;permission&#x540D;&#x5B57;&#x7684;&#x6570;&#x7EC4;, &#x548C;&#x4E00;&#x4E2A;&#x6574;&#x578B;&#x7684;request code.<br>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x662F;&#x5F02;&#x6B65;&#x7684;,&#x5B83;&#x4F1A;&#x7ACB;&#x5373;&#x8FD4;&#x56DE;, &#x5F53;&#x7528;&#x6237;&#x548C;dialog&#x4EA4;&#x4E92;&#x5B8C;&#x6210;&#x4E4B;&#x540E;,&#x7CFB;&#x7EDF;&#x4F1A;&#x8C03;&#x7528;&#x56DE;&#x8C03;&#x65B9;&#x6CD5;,&#x4F20;&#x56DE;&#x7528;&#x6237;&#x7684;&#x9009;&#x62E9;&#x7ED3;&#x679C;&#x548C;&#x5BF9;&#x5E94;&#x7684;request code.<br>&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF1A;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ActivityCompat.requestPermissions(CreateMeetActivity.<span class="keyword">this</span>,<span class="keyword">new</span> String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, PermissionCode.MY_PERMISSIONS_REQUEST_READ_EXTERNAL_STORAGE);</div></pre></td></tr></table></figure></p>
<p>&#x4E00;&#x79CD;&#x662F;&#x5728;Fragment&#x91CC;&#x9762;&#x8BF7;&#x6C42;<br>requestPermissions(@NonNull String[] permissions, int requestCode)<br>&#x5C11;&#x4E00;&#x4E2A;Activity&#x53C2;&#x6570;&#xFF0C;&#x5176;&#x4ED6;&#x4E00;&#x6837;&#xFF0C;&#x4F46;&#x662F;&#x56DE;&#x8C03;&#x9700;&#x8981;&#x7279;&#x522B;&#x8BF4;&#x660E;&#xFF0C;&#x8FD8;&#x6709;fragment&#x5D4C;&#x5957;fragment&#x7684;&#x56DE;&#x8C03;&#x5904;&#x7406;&#x60C5;&#x51B5;&#xFF0C;&#x4E0B;&#x9762;&#x4F1A;&#x5355;&#x72EC;&#x8BF4;&#x660E;&#x3002;</p>
<h4 id="2-3&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x6743;&#x9650;&#x7684;&#x54CD;&#x5E94;"><a href="#2-3&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x6743;&#x9650;&#x7684;&#x54CD;&#x5E94;" class="headerlink" title="2.3&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x6743;&#x9650;&#x7684;&#x54CD;&#x5E94;"></a>2.3&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x6743;&#x9650;&#x7684;&#x54CD;&#x5E94;</h4><p>&#x5F53;&#x7528;&#x6237;&#x5BF9;&#x8BF7;&#x6C42;&#x6743;&#x9650;&#x7684;dialog&#x505A;&#x51FA;&#x54CD;&#x5E94;&#x4E4B;&#x540E;,&#x7CFB;&#x7EDF;&#x4F1A;&#x8C03;&#x7528;onRequestPermissionsResult() &#x65B9;&#x6CD5;,&#x4F20;&#x56DE;&#x7528;&#x6237;&#x7684;&#x9009;&#x62E9;&#x7ED3;&#x679C;&#x548C;request code.<br>&#x8FD9;&#x4E2A;&#x56DE;&#x8C03;&#x4E2D;request code&#x5373;&#x4E3A;&#x8C03;&#x7528;requestPermissions()&#x65F6;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;,&#x662F;app&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x4E2A;&#x6574;&#x578B;&#x503C;.<br>&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x53D6;&#x6D88;,&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x7EC4;&#x5C06;&#x4F1A;&#x4E3A;&#x7A7A;.<br>&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRequestPermissionsResult</span><span class="params">(<span class="keyword">int</span> requestCode, @NonNull String[] permissions, @NonNull <span class="keyword">int</span>[] grantResults)</span> </span>{</div><div class="line">        <span class="keyword">super</span>.onRequestPermissionsResult(requestCode, permissions, grantResults);</div><div class="line">        <span class="keyword">switch</span> (requestCode) {</div><div class="line">            <span class="keyword">case</span> PermissionCode.MY_PERMISSIONS_REQUEST_READ_EXTERNAL_STORAGE: {</div><div class="line">                <span class="comment">// If request is cancelled, the result arrays are empty.</span></div><div class="line">                <span class="keyword">if</span> (grantResults.length &gt; <span class="number">0</span>&amp;&amp; grantResults[<span class="number">0</span>] == PackageManager.PERMISSION_GRANTED) {</div><div class="line"></div><div class="line">                    <span class="comment">// permission was granted, yay! Do the</span></div><div class="line">                    <span class="comment">// contacts-related task you need to do.</span></div><div class="line">                    goFileSelect();</div><div class="line">                    Log.i(TAG, <span class="string">&quot;user granted the permission!&quot;</span>);</div><div class="line"></div><div class="line">                } <span class="keyword">else</span> {</div><div class="line"></div><div class="line">                    <span class="comment">// permission denied, boo! Disable the</span></div><div class="line">                    <span class="comment">// functionality that depends on this permission.</span></div><div class="line">                    Log.i(TAG, <span class="string">&quot;user denied the permission!&quot;</span>);</div><div class="line">                }</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// other &apos;case&apos; lines to check for other</span></div><div class="line">            <span class="comment">// permissions this app might request</span></div><div class="line">        }</div></pre></td></tr></table></figure></p>
<p>&#x5728;Fragment&#x4E2D;&#x7533;&#x8BF7;&#x6743;&#x9650;&#xFF0C;&#x4E0D;&#x8981;&#x4F7F;&#x7528;ActivityCompat.requestPermissions, &#x76F4;&#x63A5;&#x4F7F;&#x7528;Fragment&#x7684;requestPermissions&#x65B9;&#x6CD5;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x56DE;&#x8C03;&#x5230;Activity&#x7684; onRequestPermissionsResult<br>&#x5982;&#x679C;&#x5728;Fragment&#x4E2D;&#x5D4C;&#x5957;Fragment&#xFF0C;&#x5728;&#x5B50;Fragment&#x4E2D;&#x4F7F;&#x7528;requestPermissions&#x65B9; &#x6CD5;&#xFF0C;onRequestPermissionsResult&#x4E0D;&#x4F1A;&#x56DE;&#x8C03;&#x56DE;&#x6765;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528; getParentFragment().requestPermissions&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4F1A;&#x56DE;&#x8C03;&#x5230;&#x7236;Fragment&#x4E2D;&#x7684;onRequestPermissionsResult&#xFF0C;&#x52A0;&#x5165;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x628A;&#x56DE;&#x8C03;&#x900F;&#x4F20;&#x5230;&#x5B50;Fragment</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRequestPermissionsResult</span><span class="params">(<span class="keyword">int</span> requestCode, String[] permissions, <span class="keyword">int</span>[] grantResults)</span> </span>{</div><div class="line">      <span class="keyword">super</span>.onRequestPermissionsResult(requestCode, permissions, grantResults);</div><div class="line">      List&lt;Fragment&gt; fragments = getChildFragmentManager().getFragments();</div><div class="line">      <span class="keyword">if</span> (fragments != <span class="keyword">null</span>) {</div><div class="line">          <span class="keyword">for</span> (Fragment fragment : fragments) {</div><div class="line">              <span class="keyword">if</span> (fragment != <span class="keyword">null</span>) {</div><div class="line">                  fragment.onRequestPermissionsResult(requestCode,permissions,grantResults);</div><div class="line">              }</div><div class="line">          }</div><div class="line">      }</div><div class="line">  }</div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[如何使用markdown插入图片]]></title>
      <url>https://dinomonster.github.io/2016/08/08/2016-8-8/</url>
      <content type="html"><![CDATA[<p>&#x7531;&#x4E8E;&#x5BF9;markdown&#x8BED;&#x6CD5;&#x4E0D;&#x662F;&#x5F88;&#x719F;&#xFF0C;&#x4E0A;&#x7BC7;&#x535A;&#x5BA2;&#x90FD;&#x6CA1;&#x6709;&#x63D2;&#x56FE;&#xFF0C;&#x4ECA;&#x5929;&#x7814;&#x7A76;&#x4E86;&#x4E0B;&#x5728;&#x4E0A;&#x7BC7;&#x535A;&#x5BA2;&#x8865;&#x4E86;&#x4E24;&#x5F20;&#x56FE;&#x3002;&#x4E0B;&#x9762;&#x8BB0;&#x5F55;&#x4E0B;&#xFF0C;&#x600E;&#x4E48;&#x63D2;&#x5165;&#x56FE;&#x7247;&#xFF1A;</p>
<h3 id="1-&#x9996;&#x5148;&#x786E;&#x8BA4;-config-yml-&#x4E2D;&#x6709;-post-asset-folder-true"><a href="#1-&#x9996;&#x5148;&#x786E;&#x8BA4;-config-yml-&#x4E2D;&#x6709;-post-asset-folder-true" class="headerlink" title="1.&#x9996;&#x5148;&#x786E;&#x8BA4;_config.yml &#x4E2D;&#x6709; post_asset_folder:true"></a>1.&#x9996;&#x5148;&#x786E;&#x8BA4;_config.yml &#x4E2D;&#x6709; post_asset_folder:true</h3><p>&#x7136;&#x540E;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x4E0B;&#x8F7D;hexo&#x56FE;&#x7247;&#x63D2;&#x4EF6;<br><code>npm install https://github.com/CodeFalling/hexo-asset-image --save</code></p>
<h3 id="2-&#x5728;md&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x521B;&#x5EFA;&#x548C;md&#x540C;&#x540D;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x5982;&#xFF1A;"><a href="#2-&#x5728;md&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x521B;&#x5EFA;&#x548C;md&#x540C;&#x540D;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x5982;&#xFF1A;" class="headerlink" title="2.&#x5728;md&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x521B;&#x5EFA;&#x548C;md&#x540C;&#x540D;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x5982;&#xFF1A;"></a>2.&#x5728;md&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x521B;&#x5EFA;&#x548C;md&#x540C;&#x540D;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x5982;&#xFF1A;</h3><p>2016-08-05<br>&#x251C;&#x2500;&#x2500; xxx.png<br>&#x2514;&#x2500;&#x2500; xxxx.png<br>2016-08-05.md</p>
<p><img src="/2016/08/08/2016-8-8/catalog.jpg" alt="catalog"></p>
<p>&#x7136;&#x540E;&#x4F7F;&#x7528;<code>![xxx](2016-08-05/xxx.png)</code>&#x5C31;&#x53EF;&#x63D2;&#x5165;&#x56FE;&#x7247;</p>
<h1 id="&#x6CE8;&#x610F;&#x5982;&#x679C;&#x662F;&#x5148;&#x4E0B;&#x8F7D;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x5F53;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x521B;&#x5EFA;md&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x540C;&#x540D;&#x6587;&#x4EF6;&#x5939;&#x7528;&#x6765;&#x5B58;&#x653E;&#x56FE;&#x7247;"><a href="#&#x6CE8;&#x610F;&#x5982;&#x679C;&#x662F;&#x5148;&#x4E0B;&#x8F7D;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x5F53;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x521B;&#x5EFA;md&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x540C;&#x540D;&#x6587;&#x4EF6;&#x5939;&#x7528;&#x6765;&#x5B58;&#x653E;&#x56FE;&#x7247;" class="headerlink" title="&#x6CE8;&#x610F;&#x5982;&#x679C;&#x662F;&#x5148;&#x4E0B;&#x8F7D;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x5F53;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x521B;&#x5EFA;md&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x540C;&#x540D;&#x6587;&#x4EF6;&#x5939;&#x7528;&#x6765;&#x5B58;&#x653E;&#x56FE;&#x7247;"></a>&#x6CE8;&#x610F;&#x5982;&#x679C;&#x662F;&#x5148;&#x4E0B;&#x8F7D;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x5F53;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x521B;&#x5EFA;md&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x540C;&#x540D;&#x6587;&#x4EF6;&#x5939;&#x7528;&#x6765;&#x5B58;&#x653E;&#x56FE;&#x7247;</h1><p>&#x751F;&#x6210;&#x7684;&#x7ED3;&#x6784;&#x4E3A;<br>public/2016/08/05/2016-08-05<br>&#x251C;&#x2500;&#x2500; xxx.png<br>&#x2514;&#x2500;&#x2500; xxxx.png</p>
<p>&#x751F;&#x6210;&#x7684; html &#x662F;</p>
<p><code>&lt;img src=&quot;/2016/08/05/2016-08-05/xxx.png&quot; alt=&quot;xxx&quot;&gt;</code></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[如何用hexo搭建静态博客]]></title>
      <url>https://dinomonster.github.io/2016/08/05/2016-08-05/</url>
      <content type="html"><![CDATA[<p>&#x60F3;&#x597D;&#x597D;&#x5199;&#x5199;&#x535A;&#x5BA2;&#x4E86;&#xFF0C;&#x53C8;&#x4E0D;&#x559C;&#x6B22;&#x90A3;&#x4E9B;&#x5E73;&#x53F0;&#x5404;&#x79CD;&#x82B1;&#x54E8;&#x548C;&#x5E7F;&#x544A;&#x3002;&#x770B;&#x597D;&#x591A;&#x5927;&#x795E;&#x90FD;&#x662F;&#x7528;&#x7684;hexo&#x642D;&#x5EFA;&#x7684;&#x81EA;&#x5DF1;&#x7684;&#x535A;&#x5BA2;&#xFF0C;&#x6211;&#x4E5F;&#x8DDF;&#x98CE;&#x641E;&#x4E00;&#x4E2A;&#xFF0C;&#x4E0B;&#x9762;&#x8BB0;&#x5F55;&#x4E0B;&#x8FC7;&#x7A0B;&#x4EE5;&#x53CA;&#x9047;&#x5230;&#x7684;&#x5751;&#x3002; </p>
<h2 id="1-&#x5B89;&#x88C5;git&#x548C;node-js"><a href="#1-&#x5B89;&#x88C5;git&#x548C;node-js" class="headerlink" title="1.&#x5B89;&#x88C5;git&#x548C;node.js"></a>1.&#x5B89;&#x88C5;git&#x548C;node.js</h2><p>&#x5B89;&#x88C5;&#x5B8C;git&#x540E;&#xFF0C;&#x8FDB;&#x5165;git bash&#x914D;&#x7F6E;ssh key<br>&#x9996;&#x5148;&#x68C0;&#x67E5;&#x7535;&#x8111;&#x73B0;&#x6709;ssk key&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;<code>$ cd ~/.ssh</code>,&#x5982;&#x679C;&#x63D0;&#x793A;No such file or directory &#x8BF4;&#x660E;&#x4F60;&#x662F;&#x7B2C;&#x4E00;&#x6B21;&#x4F7F;&#x7528;git&#x3002;<br>&#x751F;&#x6210;&#x65B0;&#x7684;ssh key&#xFF1A;<br><code>$ ssh-keygen -t rsa -C&quot;&#x90AE;&#x4EF6;&#x5730;&#x5740;@youremail.com&quot;Generating public/private rsa key pair. Enter file in which to save the key(/Users/your_user_directory/.ssh/id_rsa):&lt;&#x56DE;&#x8F66;&#x5C31;&#x597D;&gt;</code><br>&#x6CE8;&#x610F;1: &#x6B64;&#x5904;&#x7684;&#x90AE;&#x7BB1;&#x5730;&#x5740;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x8F93;&#x5165;&#x81EA;&#x5DF1;&#x7684;&#x90AE;&#x7BB1;&#x5730;&#x5740;&#xFF1B;&#x6CE8;&#x610F;2: &#x6B64;&#x5904;&#x7684;&#x300C;-C&#x300D;&#x7684;&#x662F;&#x5927;&#x5199;&#x7684;&#x300C;C&#x300D;<br>&#x7136;&#x540E;&#x7CFB;&#x7EDF;&#x4F1A;&#x8981;&#x4F60;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF1A;<br><code>Enter passphrase (empty forno passphrase):&lt;&#x8F93;&#x5165;&#x52A0;&#x5BC6;&#x4E32;&gt;</code><br><code>Enter same passphrase again:&lt;&#x518D;&#x6B21;&#x8F93;&#x5165;&#x52A0;&#x5BC6;&#x4E32;&gt;</code><br>&#x6700;&#x540E;&#x770B;&#x5230;&#x8FD9;&#x6837;&#x7684;&#x754C;&#x9762;&#xFF0C;&#x5C31;&#x6210;&#x529F;&#x8BBE;&#x7F6E;ssh key&#x4E86;&#xFF1A;<br><img src="/2016/08/05/2016-08-05/sshkeyresult.png" alt="sshkeyresult"></p>
<p>&#x6DFB;&#x52A0; SSH Key &#x5230; GitHub&#xFF08;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6CE8;&#x518C;github&#x8D26;&#x53F7;&#xFF0C;&#x8BF7;&#x5148;&#x884C;&#x6CE8;&#x518C;&#xFF0C;&#x5F88;&#x7B80;&#x5355;&#xFF09;<br>1.&#x6253;&#x5F00;&#x672C;&#x5730;C:\Documents and Settings\Administrator.ssh\id_rsa.pub&#x6587;&#x4EF6;&#x3002;&#x6B64;&#x6587;&#x4EF6;&#x91CC;&#x9762;&#x5185;&#x5BB9;&#x4E3A;&#x521A;&#x624D;&#x751F;&#x6210;&#x4EBA;&#x5BC6;&#x94A5;&#x3002;&#x5982;&#x679C;&#x770B;&#x4E0D;&#x5230;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x663E;&#x793A;&#x9690;&#x85CF;&#x6587;&#x4EF6;&#x3002;&#x51C6;&#x786E;&#x7684;&#x590D;&#x5236;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x624D;&#x80FD;&#x4FDD;&#x8BC1;&#x8BBE;&#x7F6E;&#x7684;&#x6210;&#x529F;&#x3002;<br>2.&#x767B;&#x9646;github&#x7CFB;&#x7EDF;&#x3002;&#x70B9;&#x51FB;&#x53F3;&#x4E0A;&#x89D2;&#x7684; Settings&#x2014;&gt;SSH and GPG keys &#x2014;&gt; New SSH key<br>3.&#x628A;&#x4F60;&#x672C;&#x5730;&#x751F;&#x6210;&#x7684;&#x5BC6;&#x94A5;&#x590D;&#x5236;&#x5230;&#x91CC;&#x9762;&#xFF08;key&#x6587;&#x672C;&#x6846;&#x4E2D;&#xFF09;&#xFF0C; &#x70B9;&#x51FB; add key &#x5C31;ok&#x4E86;</p>
<p><img src="/2016/08/05/2016-08-05/addsshkeytogithub.png" alt="addsshkeytogithub"></p>
<p>&#x53EF;&#x4EE5;&#x8F93;&#x5165;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x770B;&#x770B;&#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x6210;&#x529F;&#xFF0C;git@github.com&#x7684;&#x90E8;&#x5206;&#x4E0D;&#x8981;&#x4FEE;&#x6539;&#xFF1A;<br><code>$ ssh -T git@github.com</code><br>&#x5982;&#x679C;&#x662F;&#x4E0B;&#x9762;&#x7684;&#x53CD;&#x9988;&#xFF1A;<br>The authenticity of host &#x2018;github.com (207.97.227.239)&#x2019; can&#x2019;t be established.<br>RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.<br>Are you sure you want to continue connecting (yes/no)?<br>&#x4E0D;&#x8981;&#x7D27;&#x5F20;&#xFF0C;&#x8F93;&#x5165;yes&#x5C31;&#x597D;&#xFF0C;&#x7136;&#x540E;&#x4F1A;&#x770B;&#x5230;&#xFF1A;<br>Hi cnfeat! You&#x2019;ve successfully authenticated, but GitHub does not provide shell access.</p>
<p>##&#x8BBE;&#x7F6E;&#x7528;&#x6237;&#x4FE1;&#x606F;<br>&#x73B0;&#x5728;&#x4F60;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; SSH &#x94FE;&#x63A5;&#x5230; GitHub &#x4E86;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x4E2A;&#x4EBA;&#x4FE1;&#x606F;&#x9700;&#x8981;&#x5B8C;&#x5584;&#x7684;&#x3002;<br>Git &#x4F1A;&#x6839;&#x636E;&#x7528;&#x6237;&#x7684;&#x540D;&#x5B57;&#x548C;&#x90AE;&#x7BB1;&#x6765;&#x8BB0;&#x5F55;&#x63D0;&#x4EA4;&#x3002;GitHub &#x4E5F;&#x662F;&#x7528;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x6765;&#x505A;&#x6743;&#x9650;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x8F93;&#x5165;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x4E2A;&#x4EBA;&#x4FE1;&#x606F;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x628A;&#x540D;&#x79F0;&#x548C;&#x90AE;&#x7BB1;&#x66FF;&#x6362;&#x6210;&#x4F60;&#x81EA;&#x5DF1;&#x7684;&#xFF0C;&#x540D;&#x5B57;&#x5FC5;&#x987B;&#x662F;&#x4F60;&#x7684;&#x771F;&#x540D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;GitHub&#x7684;&#x6635;&#x79F0;&#x3002;<br>$ git config &#x2013;global user.name &#x201C;cnfeat&#x201D;//&#x7528;&#x6237;&#x540D;<br>$ git config &#x2013;global user.email  &#x201C;cnfeat@gmail.com&#x201D;//&#x586B;&#x5199;&#x81EA;&#x5DF1;&#x7684;&#x90AE;&#x7BB1;</p>
<p>##2.&#x5B89;&#x88C5;hexo<br>&#x5229;&#x7528; npm &#x547D;&#x4EE4;&#x5373;&#x53EF;&#x5B89;&#x88C5;&#x3002;&#x5728;git bash&#x8F93;&#x5165;&#x547D;&#x4EE4;<code>npm install -g hexo</code></p>
<p>&#x521B;&#x5EFA;hexo&#x6587;&#x4EF6;&#x5939;<br>&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x5728;&#x4F60;&#x559C;&#x7231;&#x7684;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF08;&#x5982;H:\hexo&#xFF09;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x6307;&#x4EE4;(&#x5728;H:\hexo&#x5185;&#x70B9;&#x51FB;&#x9F20;&#x6807;&#x53F3;&#x952E;&#xFF0C;&#x9009;&#x62E9;Git bash)&#xFF0C;Hexo &#x5373;&#x4F1A;&#x81EA;&#x52A8;&#x5728;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x5939;&#x5EFA;&#x7ACB;&#x7F51;&#x7AD9;&#x6240;&#x9700;&#x8981;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x3002;<br><code>hexo init</code><br>&#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x5305;<br><code>npm install</code></p>
<p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x642D;&#x5EFA;&#x8D77;&#x672C;&#x5730;&#x7684;hexo&#x535A;&#x5BA2;&#x4E86;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;(&#x5728;H:\hexo)&#xFF0C;&#x7136;&#x540E;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;localhost:4000&#x770B;&#x770B;&#x3002;<br><code>hexo generate</code><br><code>hexo server</code></p>
<p>&#x597D;&#x4E86;&#xFF0C;&#x81F3;&#x6B64;&#xFF0C;&#x672C;&#x5730;&#x535A;&#x5BA2;&#x5DF2;&#x7ECF;&#x642D;&#x5EFA;&#x8D77;&#x6765;&#x4E86;&#xFF0C;&#x53EA;&#x662F;&#x672C;&#x5730;&#x54E6;&#xFF0C;&#x522B;&#x4EBA;&#x770B;&#x4E0D;&#x5230;&#x7684;&#x3002;&#x4E0B;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x8981;&#x90E8;&#x7F72;&#x5230;Github&#x3002;</p>
<p>##3.&#x521B;&#x5EFA;repository<br>&#x5728;&#x81EA;&#x5DF1;Github&#x4E3B;&#x9875;&#x53F3;&#x4E0B;&#x89D2;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;repository&#x3002;&#x6BD4;&#x5982;&#x6211;&#x7684;Github&#x8D26;&#x53F7;&#x662F;dinomonster&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x5E94;&#x8BE5;&#x521B;&#x5EFA;&#x7684;repository&#x540D;&#x5B57;&#x5E94;&#x8BE5;&#x662F;dinomonster.github.io&#x3002;</p>
<p>##4.&#x90E8;&#x7F72;<br>&#x7F16;&#x8F91;_config.yml(&#x5728;H:\hexo&#x4E0B;)&#x4F60;&#x5728;&#x90E8;&#x7F72;&#x65F6;&#xFF0C;&#x8981;&#x628A;&#x4E0B;&#x9762;&#x7684;dinomonster&#x90FD;&#x6362;&#x6210;&#x4F60;&#x7684;&#x8D26;&#x53F7;&#x540D;&#x3002;<br>deploy:<br>  type: github<br>  repository: <a href="https://github.com/dinomonster/dinomonster.github.io.git" target="_blank" rel="external">https://github.com/dinomonster/dinomonster.github.io.git</a><br>  branch: master</p>
<p>&#x8FD9;&#x91CC;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x5728;&#x65B0;&#x7248;&#x7684;hexo&#x9700;&#x8981;&#x8FD9;&#x6837;&#x8BBE;&#x7F6E;<br>deploy:<br>  type: git<br>  repository: git@github.com:dinomonster/dinomonster.github.io.git<br>  branch: master</p>
<p>&#x6267;&#x884C;&#x4E0B;&#x5217;&#x6307;&#x4EE4;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x90E8;&#x7F72;&#x3002;<br>  <code>hexo generate</code><br>  <code>hexo deploy</code></p>
<p>&#x6BCF;&#x6B21;&#x4FEE;&#x6539;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x540E;&#xFF0C;&#x9700;&#x8981;hexo generate&#x624D;&#x80FD;&#x4FDD;&#x5B58;&#x3002;&#x6BCF;&#x6B21;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x90FD;&#x8981;&#x5728;H:\hexo&#x76EE;&#x5F55;&#x4E0B;&#x3002;<br>  Okay,&#x6211;&#x4EEC;&#x7684;&#x535A;&#x5BA2;&#x5DF2;&#x7ECF;&#x5B8C;&#x5168;&#x642D;&#x5EFA;&#x8D77;&#x6765;&#x4E86;&#xFF0C;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;dinomonster.github.io&#x5C31;&#x80FD;&#x770B;&#x5230;&#x4F60;&#x7684;&#x6210;&#x5C31;&#x4E86;</p>
<p>##bugs:<br>    1.&#x5728;github&#x90E8;&#x7F72;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x9A6C;&#x4E0A;&#x8BBF;&#x95EE;&#x53EF;&#x80FD;&#x51FA;&#x73B0;404&#x9519;&#x8BEF;,&#x53EF;&#x80FD;&#x9700;&#x8981;&#x7B49;&#x7EA7;&#x5206;&#x949F;<br>    2.&#x90E8;&#x7F72;&#x7684;&#x65F6;&#x5019;&#x6CE8;&#x610F;&#x6240;&#x6709;&#x7684;&#x201D;:&#x201D;&#x540E;&#x9762;&#x90FD;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x4E0D;&#x62A5;&#x9519;&#x4E5F;&#x90E8;&#x7F72;&#x4E0D;&#x6210;&#x529F;&#x3001;&#x88AB;&#x8FD9;&#x4E2A;&#x5751;&#x4E86;&#x597D;&#x4E45;&#x3002;</p>
<p>hexo&#x7684;&#x547D;&#x4EE4;&#x6709;&#x7B80;&#x5199;&#xFF1A;<br>hexo g == hexo generate<br>hexo d == hexo deploy<br>hexo s == hexo server<br>hexo n == hexo new</p>
<p>&#x540E;&#x7EED;&#x518D;&#x5199;&#x5982;&#x4F55;&#x8D2D;&#x4E70;&#x57DF;&#x540D;&#x7B49;&#x7B49;&#xFF0C;&#x4E0B;&#x73ED;&#x95EA;&#x4EBA;&#x3002;</p>
]]></content>
    </entry>
    
  
  
</search>
